##消息队列##
> 个人觉得消息队列，主要有两个作用：

>1、降低耦合
>
2、消息可以暂时存在在消息队列中，等待消息接收者根据自身的负载处理能力控制处理消息的处理速度，减小在大并发访问时候的压力

使用消息队列的场景：

- 异步处理
- 应用解耦
> 场景说明：用户下单后，订单系统需要通知库存系统。传统的做法是，订单系统调用库存系统的接口。如下图：
> 
> 
> 
> 传统模式的缺点：
> 
> 1）  假如库存系统无法访问，则订单减库存将失败，从而导致订单失败；
> 
> 2）  订单系统与库存系统耦合；
> 
> 如何解决以上问题呢？引入应用消息队列后的方案
> 
> 订单系统：用户下单后，订单系统完成持久化处理，将消息写入消息队列，返回用户订单下单成功。
> 库存系统：订阅下单的消息，采用拉/推的方式，获取下单信息，库存系统根据下单信息，进行库存操作。
> 假如：在下单时库存系统不能正常使用。也不影响正常下单，因为下单后，订单系统写入消息队列就不再关心其他的后续操作了。实现订单系统与库存系统的应用解耦。

 - 流量削锋
 - 日志处理
 - 消息通讯
 
在JMS标准中，有两种消息模型P2P（Point to Point）,Publish/Subscribe(Pub/Sub)。

**P2P模式**

P2P模式包含三个角色：消息队列（Queue），发送者(Sender)，接收者(Receiver)。每个消息都被发送到一个特定的队列，接收者从队列中获取消息。队列保留着消息，直到他们被消费或超时。

P2P的特点：

	每个消息只有一个消费者（Consumer）(即一旦被消费，消息就不再在消息队列中)
	发送者和接收者之间在时间上没有依赖性，也就是说当发送者发送了消息之后，不管接收者有没有正在运行，它不会影响到消息被发送到队列
	接收者在成功接收消息之后需向队列应答成功

**Pub/sub模式**

包含三个角色主题（Topic），发布者（Publisher），订阅者（Subscriber） 。多个发布者将消息发送到Topic,系统将这些消息传递给多个订阅者。

Pub/Sub的特点：

	每个消息可以有多个消费者
	发布者和订阅者之间有时间上的依赖性。针对某个主题（Topic）的订阅者，它必须创建一个订阅者之后，才能消费发布者的消息。
	为了消费消息，订阅者必须保持运行的状态。

##JMS##

###消息传送机制的优点###

- 异构集成：消息传送机制提供的去耦解决方案，能够真正实现跨应用程序或跨子系统共享数据和功能。
- 缓解系统瓶颈：解决进程跟不上对它访问请求的速度。
- 提高可伸缩性：可提高系统整体的可伸缩性和吞吐量，同时缩短响应时间。
- 提高最终用户生产率：发出请求后，用户可继续在其他系统上工作。



   
>  MOM：面向消息的中间件

一个message对象有三个部分：消息头、消息属性、以及消息数据自身，它称为有效负载或消息体。
消息头描述了和消息有关的元数据：消息由谁创建、何时创建、数据的有效长度、消息目的地。
消息属性类似于附加消息头。